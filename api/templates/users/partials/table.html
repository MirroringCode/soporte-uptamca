<thead>
    <tr>
        <th>Usuario</th>
        <th>Rol</th>
        <th>Acciones</th>
    </tr>
</thead>
<tbody>
    {% for user in users %}
        <tr id="user-{{ user.id }}">
            <td>{{ user.username }}</td>
            <td>{{ user.rol.tipo }}</td>
            <td>
                <button onclick="document.getElementById('editarUsuario').showModal()"
                hx-get="/api/user_form/{{ user.id }}"
                hx-trigger="click"
                hx-target="#edit-form-container"
                 class="btn btn-xs btn-primary">
                    Editar
                </button>
                <button
                data-eliminar
                hx-delete="/api/users/{{ user.id }}"
                hx-trigger="click"
                hx-confirm="¿Está seguro de eliminar este usuario?"
                hx-target="[data-notification]"
                hx-target-4*="[data-notification]"
                hx-on::after-request="
                const toast = document.querySelector('[data-notification]');
                htmx.trigger(document.body, 'userDeleted');
                
                setTimeout(() => {
                    toast.innerHTML = '';
                }, 1500);
                "
                class="btn btn-xs my-[.75em] btn-error">
                    Eliminar
                </button>
                <button onclick="reiniciarPassword.showModal()"
                hx-get="/api/users/reset_password/{{ user.id }}"
                hx-trigger="click"
                hx-target="#password-form-container"
                 class="btn btn-xs my-[.75em] btn-warning">
                    Reiniciar contraseña
                </button>
            </td>
        </tr>
    {% endfor %}
</tbody>
